@page "/project-ranks"
@layout EstatisticasLayout
@inherits TrabalhoBd.Pages.ProjectRanksComponent

@using Radzen
@using Radzen.Blazor
@using TrabalhoBd.Models.Trabalho
<PageTitle>ProjectRanks</PageTitle>
<RadzenContent Container="main">
  <ChildContent>
    <RadzenLabel style="width: 20%" Text="Nome do Projeto">
    </RadzenLabel>
    <RadzenTextBox style="margin-bottom: 20px; width: 80%" Name="Textbox0" TValue="dynamic" @bind-nomeBind=@nome Value=@nome Change='@(args=> getNome(args))'>
    </RadzenTextBox>
    <RadzenDataGrid @ref="datagrid0" AllowFiltering="true" AllowPaging="true" AllowSorting="true" Data="@getRatingProjsResult.OrderBy(a=>(a.Participantes)).Where(s=>(s.Nome.Contains(nome)))" TItem="TrabalhoBd.Models.Trabalho.RatingProj" PageSize="10">
      <Columns>
        <RadzenDataGridColumn TItem="TrabalhoBd.Models.Trabalho.RatingProj" Property="Nome" Title="Nome">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="TrabalhoBd.Models.Trabalho.RatingProj" Property="Total_Cost" Title="Total Cost">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="TrabalhoBd.Models.Trabalho.RatingProj" Property="Participantes" Title="Nº Participantes">
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="TrabalhoBd.Models.Trabalho.RatingProj" Property="NumPublicacoes" Title="Nº Publicacoes">
        </RadzenDataGridColumn>
      </Columns>
    </RadzenDataGrid>
  </ChildContent>
  @code{
    string nome="",nomeBind;

    public void getNome(object value){
      nome=value as string;
    }
  }
</RadzenContent>
